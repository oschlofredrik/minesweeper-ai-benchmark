<!DOCTYPE html>
<html>
<head>
    <title>Clean Modal Test</title>
    <link rel="stylesheet" href="/static/style-rams.css">
</head>
<body>
    <h1>Clean Modal Test - No Conflicts</h1>
    <button onclick="showModal()">Open Modal</button>
    
    <div id="eval-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>New AI Evaluation</h2>
                <button class="modal-close" onclick="hideModal()">&times;</button>
            </div>
            
            <form id="play-form">
                <div class="form-group">
                    <label class="label" for="model-provider">Model Provider</label>
                    <select class="select" id="model-provider" required>
                        <option value="openai">OpenAI</option>
                        <option value="anthropic">Anthropic</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="label" for="model-name">Model Name</label>
                    <select class="select" id="model-name" required>
                        <option value="">Loading...</option>
                    </select>
                </div>
                
                <button type="submit" class="button">Start Evaluation</button>
            </form>
        </div>
    </div>
    
    <script>
        function showModal() {
            document.getElementById('eval-modal').style.display = 'flex';
            loadModels();
        }
        
        function hideModal() {
            document.getElementById('eval-modal').style.display = 'none';
        }
        
        async function loadModels() {
            const provider = document.getElementById('model-provider').value;
            const modelSelect = document.getElementById('model-name');
            
            console.log(`Loading models for ${provider}...`);
            modelSelect.innerHTML = '<option value="">Loading...</option>';
            
            try {
                const response = await fetch(`/api/models/${provider}`);
                const data = await response.json();
                
                console.log('API Response:', data);
                
                modelSelect.innerHTML = '';
                const models = data.models || {};
                
                Object.entries(models).forEach(([modelId, modelInfo]) => {
                    const option = document.createElement('option');
                    option.value = modelId;
                    option.textContent = modelInfo.name;
                    modelSelect.appendChild(option);
                });
                
                console.log(`Loaded ${Object.keys(models).length} models`);
                
            } catch (error) {
                console.error('Error:', error);
                modelSelect.innerHTML = '<option value="">Error loading models</option>';
            }
        }
        
        // Update models when provider changes
        document.getElementById('model-provider').addEventListener('change', loadModels);
        
        // Prevent form submission
        document.getElementById('play-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Form submitted!');
        });
    </script>
</body>
</html>