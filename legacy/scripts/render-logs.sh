#!/bin/bash

# Render log streaming script
# This script streams logs from your Render service

echo "üîç Render Log Streaming"
echo "======================"
echo ""
echo "To stream logs from your Render deployment:"
echo ""
echo "1. Get your Render API key:"
echo "   Go to: https://dashboard.render.com/account/api-keys"
echo ""
echo "2. Set your API key:"
echo "   export RENDER_API_KEY='your-api-key-here'"
echo ""
echo "3. Get your service ID from the dashboard URL:"
echo "   Example: If your URL is https://dashboard.render.com/web/srv-abc123xyz"
echo "   Your service ID is: srv-abc123xyz"
echo ""
echo "4. Run this command to stream logs:"
echo "   curl -H \"Authorization: Bearer \$RENDER_API_KEY\" \\"
echo "        \"https://api.render.com/v1/services/YOUR-SERVICE-ID/logs?tail=100\" \\"
echo "        | jq -r '.[] | \"[\(.timestamp)] \(.message)\"'"
echo ""
echo "5. For continuous streaming, use this loop:"
echo "   while true; do"
echo "     curl -s -H \"Authorization: Bearer \$RENDER_API_KEY\" \\"
echo "          \"https://api.render.com/v1/services/YOUR-SERVICE-ID/logs?tail=50\" \\"
echo "          | jq -r '.[] | \"[\(.timestamp)] \(.message)\"'"
echo "     sleep 2"
echo "   done"
echo ""
echo "Alternative: Open logs in browser"
echo "   open https://dashboard.render.com/web/YOUR-SERVICE-ID/logs"